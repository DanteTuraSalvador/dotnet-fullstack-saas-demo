<div class="mx-auto max-w-3xl space-y-6">
  <div class="space-y-2 text-center">
    <p class="text-sm font-medium tracking-wide text-primary uppercase">Azure SaaS</p>
    <h1 class="section-heading">Subscription Request</h1>
    <p class="section-subheading">
      Fill out this form to request Azure infrastructure provisioning for your organization.
    </p>
  </div>

  <div *ngIf="errorMessage()" class="rounded-2xl border border-rose-200 bg-rose-50/80 p-4 text-rose-700">
    {{ errorMessage() }}
  </div>

  <div class="surface-card">
    <form class="space-y-5" [formGroup]="form" (ngSubmit)="submit()" novalidate>
      <div>
        <label class="block text-sm font-semibold text-slate-600" for="companyName">Company Name</label>
        <input
          id="companyName"
          type="text"
          class="mt-1 block w-full rounded-2xl border border-slate-200 bg-white/70 px-4 py-3 text-slate-900 shadow-sm transition focus:border-primary focus:ring-2 focus:ring-primary/40"
          [class.border-rose-400]="fieldInvalid('companyName')"
          [class.ring-rose-200]="fieldInvalid('companyName')"
          formControlName="companyName"
          placeholder="Contoso Ltd."
        />
        <p class="mt-2 text-sm text-rose-600" *ngIf="fieldInvalid('companyName')">Company name is required.</p>
      </div>

      <div>
        <label class="block text-sm font-semibold text-slate-600" for="contactEmail">Contact Email</label>
        <input
          id="contactEmail"
          type="email"
          class="mt-1 block w-full rounded-2xl border border-slate-200 bg-white/70 px-4 py-3 text-slate-900 shadow-sm transition focus:border-primary focus:ring-2 focus:ring-primary/40"
          [class.border-rose-400]="fieldInvalid('contactEmail')"
          [class.ring-rose-200]="fieldInvalid('contactEmail')"
          formControlName="contactEmail"
          placeholder="admin@contoso.com"
        />
        <p class="mt-2 text-sm text-rose-600" *ngIf="fieldInvalid('contactEmail')">
          Enter a valid email address.
        </p>
      </div>

      <div>
        <label class="block text-sm font-semibold text-slate-600" for="contactPerson">Contact Person</label>
        <input
          id="contactPerson"
          type="text"
          class="mt-1 block w-full rounded-2xl border border-slate-200 bg-white/70 px-4 py-3 text-slate-900 shadow-sm transition focus:border-primary focus:ring-2 focus:ring-primary/40"
          [class.border-rose-400]="fieldInvalid('contactPerson')"
          [class.ring-rose-200]="fieldInvalid('contactPerson')"
          formControlName="contactPerson"
          placeholder="Avery Johnson"
        />
        <p class="mt-2 text-sm text-rose-600" *ngIf="fieldInvalid('contactPerson')">
          Contact person name is required.
        </p>
      </div>

      <div>
        <label class="block text-sm font-semibold text-slate-600" for="businessType">Business Type</label>
        <select
          id="businessType"
          class="mt-1 block w-full rounded-2xl border border-slate-200 bg-white/70 px-4 py-3 text-slate-900 shadow-sm transition focus:border-primary focus:ring-2 focus:ring-primary/40"
          [class.border-rose-400]="fieldInvalid('businessType')"
          [class.ring-rose-200]="fieldInvalid('businessType')"
          formControlName="businessType"
        >
          <option value="">Select business type</option>
          <option *ngFor="let type of businessTypes" [value]="type">{{ type }}</option>
        </select>
        <p class="mt-2 text-sm text-rose-600" *ngIf="fieldInvalid('businessType')">
          Please select a business type.
        </p>
      </div>

      <div class="flex flex-wrap items-center gap-3">
        <button
          class="inline-flex items-center justify-center rounded-2xl bg-primary px-5 py-3 text-sm font-semibold text-white shadow-lg shadow-primary/30 transition disabled:opacity-50"
          type="submit"
          [disabled]="isSubmitting()"
        >
          <span
            class="mr-2 h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"
            *ngIf="isSubmitting()"
          ></span>
          Submit Subscription Request
        </button>
        <a
          routerLink="/status"
          class="rounded-2xl border border-slate-200 px-5 py-3 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary"
          >Check Request Status</a
        >
      </div>
    </form>
  </div>
</div>

