<div class="row justify-content-center">
  <div class="col-xl-8">
    <h1 class="mt-2">Azure SaaS Subscription Request</h1>
    <p class="lead text-muted">
      Fill out this form to request Azure infrastructure provisioning for your organization.
    </p>

    <div *ngIf="errorMessage()" class="alert alert-danger" role="alert">
      {{ errorMessage() }}
    </div>

    <div class="card shadow-sm">
      <div class="card-body p-4">
        <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
          <div class="mb-3">
            <label class="form-label" for="companyName">Company Name</label>
            <input
              id="companyName"
              type="text"
              class="form-control"
              [class.is-invalid]="fieldInvalid('companyName')"
              formControlName="companyName"
              placeholder="Contoso Ltd."
            />
            <div class="invalid-feedback">Company name is required.</div>
          </div>

          <div class="mb-3">
            <label class="form-label" for="contactEmail">Contact Email</label>
            <input
              id="contactEmail"
              type="email"
              class="form-control"
              [class.is-invalid]="fieldInvalid('contactEmail')"
              formControlName="contactEmail"
              placeholder="admin@contoso.com"
            />
            <div class="invalid-feedback">Enter a valid email address.</div>
          </div>

          <div class="mb-3">
            <label class="form-label" for="contactPerson">Contact Person</label>
            <input
              id="contactPerson"
              type="text"
              class="form-control"
              [class.is-invalid]="fieldInvalid('contactPerson')"
              formControlName="contactPerson"
              placeholder="Avery Johnson"
            />
            <div class="invalid-feedback">Contact person name is required.</div>
          </div>

          <div class="mb-4">
            <label class="form-label" for="businessType">Business Type</label>
            <select
              id="businessType"
              class="form-select"
              [class.is-invalid]="fieldInvalid('businessType')"
              formControlName="businessType"
            >
              <option value="">Select business type</option>
              <option *ngFor="let type of businessTypes" [value]="type">{{ type }}</option>
            </select>
            <div class="invalid-feedback">Please select a business type.</div>
          </div>

          <div class="d-flex flex-wrap gap-3 align-items-center">
            <button class="btn btn-primary" type="submit" [disabled]="isSubmitting()">
              <span
                class="spinner-border spinner-border-sm me-2"
                role="status"
                aria-hidden="true"
                *ngIf="isSubmitting()"
              ></span>
              Submit Subscription Request
            </button>
            <a routerLink="/status" class="btn btn-outline-secondary">Check Request Status</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
